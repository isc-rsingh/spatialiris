Class app.Patient Extends (%Persistent, %Populate)
{

/// Name of patient
Property name As %String;

// Location in decimal degrees

Property location As rsingh.spatialiris.geo.Point;

// Restrict randomly generated patients to an area around Boston, MA USA

Method OnPopulate() As %Status
{
    set ..location.longitude = (-74000 + $RANDOM(4000)) / 1000
    set ..location.latitude = (41000 + $RANDOM(2000)) / 1000
    Return $$$OK
}

Storage Default
{
<Data name="PatientDefaultData">
<Value name="1">
<Value>%%CLASSNAME</Value>
</Value>
<Value name="2">
<Value>name</Value>
</Value>
<Value name="3">
<Value>location</Value>
</Value>
</Data>
<DataLocation>^app.PatientD</DataLocation>
<DefaultData>PatientDefaultData</DefaultData>
<ExtentSize>200</ExtentSize>
<IdLocation>^app.PatientD</IdLocation>
<IndexLocation>^app.PatientI</IndexLocation>
<Property name="%%CLASSNAME">
<AverageFieldSize>2</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,16,$lb("-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000","-10000000000000000000"),$lb(21,21,21,21,21,21,21,21,21,21,21,21,21,21,21),$lb(758198320,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,758198320))</Histogram>
<Selectivity>100.0000%</Selectivity>
</Property>
<Property name="%%ID">
<AverageFieldSize>3</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,1,0,$lb(1,14,28,42,56,70,83,96,109,122,135,148,161,174,187,200),$lb(1,0,0,0,0,0,0,0,1,1,1,1,1,1,0),$lb(822083584,0,872415232,825491456,842530816,842530816,875692032,875692032,892731392,892731392,925892608,925892608,942866432,942866432,959840256,959840256,825243904,809041920,842137600,842137600,859111424,859111424,876085248,876085248,909180928,909180928,926154752,926154752,943128576,825767680,842018816,842018816))</Histogram>
<Selectivity>1</Selectivity>
</Property>
<Property name="location">
<AverageFieldSize>24,latitude:11,longitude:11</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,0,$lb($lb(42.696,-70.755),$lb(42.64,-70.208),$lb(42.144,-73.878),$lb(42.892,-72.977),$lb(42.436,-72.222),$lb(41.157,-72.669),$lb(42.701,-71.326),$lb(41.129,-70.113),$lb(42.541,-72.644),$lb(41.086,-71.641),$lb(42.006,-70.244),$lb(42.17,-70.405),$lb(41.111,-70.423),$lb(42.483,-72.479),$lb(42.955,-73.716),$lb(41.027,-70.092)),$lb(8,7,7,7,5,5,5,5,5,5,7,5,5,7,5),$lb(185003776,2856336139,3308010251,1757752379,2022603834,2022603834,2890696251,2890696251,3075204154,3647518539,320231655,320231655,1702318961,1702318961,3024667380,3024667380,4247415193,4247415193,730132141,730132141,2176545159,1904692026,684426554,3528009931,455125903,455125903,1248811006,1476326458,2108595259,2966453678,4273465783,185003776)),latitude:$lb(.06666666666666666667,1,0,$lb(41.003,41.086,41.174,41.348,41.558,41.697,41.775,41.916,41.978,42.176,42.337,42.432,42.595,42.76,42.904,42.982),$lb(4,3,3,3,3,3,3,4,1,3,3,3,3,3,4),$lb(875638320,808648704,943063040,808990208,825701376,825701376,859060224,859060224,892680192,892680192,909719296,909719296,926364928,926364928,959526400,825622528,926416896,825112887,841888055,825701888,858994432,858994432,875770368,875770368,892941568,892941568,926285824,926285824,959460352,808714240,942800896,875703865)),longitude:$lb(.06666666666666666667,1,0,$lb(-73.997,-73.78,-73.517,-73.228,-72.977,-72.784,-72.63,-72.201,-71.846,-71.639,-71.395,-71.119,-70.72,-70.423,-70.208,-70.003),$lb(4,4,4,2,4,4,4,2,4,4,4,2,4,4,4),$lb(758592302,960050944,926416896,926416896,892417792,892417792,842151936,858665522,841890103,959919872,926430208,926430208,909312000,909312000,842019072,841888304,825112628,942945792,909326592,909326592,859387136,859387136,825309440,825110833,808335154,926023680,875705088,875705088,842020864,842020864,808465152,758591534))</Histogram>
<Selectivity>0.5000%,latitude:0.5291%,longitude:0.5155%</Selectivity>
</Property>
<Property name="name">
<AverageFieldSize>17.95</AverageFieldSize>
<Histogram>$lb(.06666666666666666667,0,0,$lb(" ADAMS,BART M."," BLACK,YAN U."," DESANTIS,ZELDA B."," EISENSTIEN,RICHARD G."," GORE,ALEXANDRA P."," INGRAHM,LOLA A."," JOHNSON,ZELDA U."," LAROCCA,XAVIER B."," MARTINEZ,DAN I."," ORWELL,STAVROS C."," QUINCE,XAVIER G."," SCHAEFER,BUZZ F."," TWEED,LOLA B."," VONNEGUT,SALLY E."," XIMINES,MARIA H."," ZUCHERRO,EMMA M."),$lb(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),$lb(541148225,1094992205,1112293699,1112293699,1145393985,1145393985,1162433349,1162433349,1196380741,1196380741,1229866834,1229866834,1246709838,1246709838,1279349327,1279349327,1296126548,1296126548,1330796357,1330796357,1364543822,1364543822,1396918337,1396918337,1415005509,1415005509,1448037966,1448037966,1481198921,1481198921,1515537224,542790979))</Histogram>
<Selectivity>0.5000%</Selectivity>
</Property>
<SQLMap name="IDKEY">
<BlockCount>-8</BlockCount>
</SQLMap>
<StreamLocation>^app.PatientS</StreamLocation>
<Type>%Storage.Persistent</Type>
}

}
